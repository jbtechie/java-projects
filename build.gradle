apply plugin: 'groovy'
apply plugin: 'application'

mainClassName = 'com.compuality.dropwizard.GroovyService'

repositories {
  mavenCentral()
  mavenRepo(name: "JQuery", url: "http://code.jquery.com") {
    pattern = "[module]-[revision](.[classifier]).[ext]"
  }
//  mavenRepo(name:"gRaphael", url: "https://raw.github.com/DmitryBaranovskiy/g.raphael/master/min") {
//    pattern = "module-(.[classifier]).[ext]"
//  }
}

configurations {
  js
}

dependencies {
  compile 'org.codehaus.groovy:groovy-all:2.1.8'
  compile 'com.yammer.dropwizard:dropwizard-core:0.6.2'
  compile 'com.yammer.dropwizard:dropwizard-views:0.6.2'
  compile 'com.sun.jersey:jersey-client:1.17.1'
  compile 'com.google.inject:guice:3.0'
  compile 'org.elasticsearch:elasticsearch:0.90.8'
  compile 'com.netflix.rxjava:rxjava-core:0.15.1'

  js group: 'jquery', name: 'jquery', version: '1.6.4', classifier: 'min', ext: "js"
//  js name: 'g.raphael', version: '0.51', classifier: 'min', ext: "js"
}

task libs(type: Sync) {
  from configurations.runtime
  into "build/libs"
}

task fetchJs(type: Copy) {
  from configurations.js
  into "$buildDir/resources/assets/js"
}
